<!DOCTYPE html>
<html>
<head>
  <title>New Game: Trivial Compute</title>
  <script src="qb.js"></script>
  <script src="question.js"></script>
  <link rel="stylesheet" href="trivial.css" />
  <script>
  	function validateForm() {
  		var cats = new Set([
  			document.forms["newgame"].yellowcat.value, 
  			document.forms["newgame"].redcat.value,
  			document.forms["newgame"].bluecat.value,
  			document.forms["newgame"].green.value])
  		if (cats.size != 4) {
  			alert("Select 4 different categories");
  			return false;
  		}
  		if (document.forms["newgame"].player1.value == '') {
  			alert("Specify the name of Player 1");
  			return false;
  		}
  		return true;
  	}
  	
  	function init() {
  		var categories = getCategories();
  		categories.forEach(e => {
  			document.querySelector("#yellowcat").innerHTML += '<option value="'+e+'">'+e+'</option>'
  			document.querySelector("#redcat").innerHTML += '<option value="'+e+'">'+e+'</option>'
  			document.querySelector("#bluecat").innerHTML += '<option value="'+e+'">'+e+'</option>'
  			document.querySelector("#green").innerHTML += '<option value="'+e+'">'+e+'</option>'
  		});
  		
  	}
	window.onload = init;
	</script>
	<style>
		select {
			margin-bottom: 10px;
			font-size: 16px;
		}
		.input {
			display: block;
		}

		.input input {
			margin-bottom: 10px;
		}

		.game-form {
			padding: 10px;
			margin: 10px;
		}

	</style>
</head>
<body>
	<nav class="nav">
    <div class="nav__title">Trivial Compute</div>
    <ul class="nav__list">
      <li class="nav__item">New Game</li>
    </ul>
  </nav>
  <form class="game-form" name="newgame" action="trivial.html" onsubmit="return validateForm()">
  	<div class="input">
		<label for="yellowcat">Yellow category:</label>
		<select name="yellowcat" id="yellowcat"></select>
	</div>

	<div class="input">
		<label for="redcat">Red category:</label>
		<select name="redcat" id="redcat"></select>
	</div>

	<div class="input">
		<label for="bluecat">Blue category:</label>
		<select name="bluecat" id="bluecat"></select>
	</div>

	<div class="input">
		<label for="greencat">Green category:</label>
		<select name="greencat" id="greencat"></select>
	</div>

	<div class="input">
		<label for="player1">Player 1:</label>
		<input type="text" id="player1" name="player1">
	</div>
	
	<div class="input">
		<label for="player2">Player 2:</label>
		<input type="text" id="player2" name="player2">
	</div>
	<div class="input">
		<label for="player3">Player 3:</label>
		<input type="text" id="player3" name="player3">
	</div>
	<div class="input">
		<label for="player4">Player 4:</label>
		<input type="text" id="player4" name="player4">
	</div>

	<button id="submit-button" type="submit">Start Game</button>
	</form>
</body>
</html>